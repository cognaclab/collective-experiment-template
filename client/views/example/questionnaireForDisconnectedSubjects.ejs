<!DOCTYPE html>
<html lang="en">
  <head>
  	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta http-equiv="x-ua-compatible" content="IE=Edge">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Questionnaire</title>
    <link rel="icon" href= "/assets/favicon.ico">
    <link href="/stylesheets/import.css" rel="stylesheet" type="text/css" media="all" />
    <link href="/stylesheets/questionnaire.css" rel="stylesheet" type="text/css" media="all" />
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <!-- <script type="text/javascript" src="/src/jquery.min.js"></script> -->
    <script type="text/javascript">
			(function () {
				// üìå Prevent back navigation
				history.pushState(null, document.title, location.href);
				window.addEventListener('popstate', function () {
				history.pushState(null, document.title, location.href);
				});

				// üö´ Prevent reload (F5, Ctrl+R, Cmd+R)
				window.addEventListener('keydown', function (e) {
				const key = e.key.toLowerCase();
				const isMac = navigator.platform.toUpperCase().indexOf('MAC') >= 0;

				if (
					(key === 'f5') ||                                 // F5
					(!isMac && e.ctrlKey && key === 'r') ||           // Ctrl + R (Windows/Linux)
					(isMac && e.metaKey && key === 'r')               // Cmd + R (macOS)
				) {
					e.preventDefault();
					e.stopPropagation();
				}
				});

				// ‚ö†Ô∏è Prompt before leaving the page (covers Ctrl/Cmd+W, closing tab, etc.)
				// window.addEventListener('beforeunload', function (e) {
				// e.preventDefault();
				// e.returnValue = ''; // Required for modern browsers to show the prompt
				// });
			})();
		</script>
    <script type="text/javascript">
      const config = <%- JSON.stringify({
        subjectID,
        bonus_for_waiting,
        confirmationID,
        totalEarningInPence,
        exp_condition,
        indivOrGroup,
        completed,
        latency,
        info_share_cost
      }) %>;
      const js_totalEarning = parseFloat(config.totalEarningInPence) / 100;
    </script>
    <script type="text/javascript" src="/src/questionnaireForm.js"></script>
  </head>
  <body>
    <div id='wrap'>
      <form id="questionForm" name="questionForm" action="<%= APP_URL %>/endPage" method="POST">
      <h1>Questionnaire</h1>

      <div id="noteArea"></div>
      <div id='firstParagraph'></div>

      <h2>About this study</h2>

      <div id="task1">


       <h3 id="freeTextQuestion"></h3>
        <!--<h3 id="freeTextQuestion">Q4: While working on the task, what strategy (if any) did you use to maximize
        your total rewards? Please describe what you did in the following form: </h3>-->
        <!--<h3>Q4: As this was a pilot run of our study, your honest feedback would be a big help.<br> Was the task clear enough and not too complicated? Please give us your feedback! </h3>-->
        <textarea class='answer' id='q4' name="q4" cols="50" rows="10" style="margin: 10px 10px 40px 50px; width: 550px; height: 150px;"></textarea>
        <!--<input class='answer' type='text' id='q4' name='q4' maxlength='' size = '150'>-->

      </div><br /><br /><br />

      <h2>About Yourself</h2>

      <h3>Your age:</h3>
      <input class='answer' type='text' id='age' name='age' maxlength='3'> years old

      <h3>Your gender:</h3>
      <select id='sex' name='sex'>
        <option value='' selected='selected'>Select Gender</option>
        <option value='1'>Male</option>
        <option value='2'>Female</option>
        <option value='3'>Non-binary</option>
        <option value='4'>Prefer not to answer</option>
      </select>



              <!-- questionnaire dummy -->
              <input type="hidden" id="q1" name="q1" value="-1">
              <input type="hidden" id="q2" name="q2" value="-1">
              <input type="hidden" id="q3" name="q3" value="-1">
              <!-- ÂÆüÈ®ì„ÅßÂèñ„Å£„ÅüÂÄã‰∫∫„ÅÆË°åÂãï„Éá„Éº„Çø -->
              <input type="hidden" id="subjectID" name="subjectID" value="">
              <input type="hidden" id="bonus_for_waiting" name="bonus_for_waiting" value="">
              <input type="hidden" id="totalEarning" name="totalEarning" value="">
              <input type="hidden" id="confirmationID" name="confirmationID" value="">
              <input type="hidden" id="exp_condition" name="exp_condition" value="">
              <input type="hidden" id="indivOrGroup" name="indivOrGroup" value="">
              <input type="hidden" id="info_share_cost" name="info_share_cost" value="">
              <input type="hidden" id="completed" name="completed" value="">
              <input type="hidden" id="latency" name="latency" value="">
              <input type="hidden" id="country" name="country" value="NA">

              <p id='submit'><input type="submit" id="proceed" name="login" value="Submit"></p>
    </form>

    </div>  
    <div id='proceed'></div>
  </body>
</html>
